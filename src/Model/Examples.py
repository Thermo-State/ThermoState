from typing import List, Dict

from Model.PureSubstances import PureState
from Model.StateProperties import Temperature, Pressure

ex1: str = '[{"type": "MetaFlow", "build": 2}, {"type": "Flow", "name": "The Simple Ideal Brayton Cycle", "fluids": ["Air"], "ranged_vars": [{"type": "Variable", "name": "Pratio", "uid": 1, "inp": {"type": "IndValue", "value": 8.0, "value_range": [8.0, 18.0]}, "desc": "Pressure ratio"}, {"type": "Variable", "name": "T1", "uid": 2, "inp": {"type": "IndValue", "value": 300.0, "value_range": [273.0, 330.0]}, "desc": "Compressor inlet Temp (K)"}, {"type": "Variable", "name": "T3", "uid": 3, "inp": {"type": "IndValue", "value": 1300.0, "value_range": [1000.0, 1700.0]}, "desc": "Turbine inlet Temp"}], "var_states": [{"type": "Variable", "name": "P1", "uid": 4, "inp": {"type": "IndValue", "value": 1.0, "value_range": null}, "desc": "=P4 (atm)"}, {"type": "Variable", "name": "P2", "uid": 5, "inp": {"type": "ExprValue", "expr": [{"type": "ref", "uid": 4}, "*", {"type": "ref", "uid": 1}], "inner_vars": []}, "desc": "=P3 (atm)"}, {"type": "State", "no": 1, "uid": 6, "fluid": "Air", "desc": "", "class_property_1": {"type": "BaseProperty", "class_property": "Temperature"}, "class_property_2": {"type": "BaseProperty", "class_property": "Pressure"}, "inp_1": {"type": "DepValue", "var_ref": {"type": "ref", "uid": 2}}, "inp_2": {"type": "DepValue", "var_ref": {"type": "ref", "uid": 4}}, "unit_1": "K", "unit_2": "atm"}, {"type": "State", "no": 2, "uid": 7, "fluid": "Air", "desc": "", "class_property_1": {"type": "BaseProperty", "class_property": "SpEntropy"}, "class_property_2": {"type": "BaseProperty", "class_property": "Pressure"}, "inp_1": {"type": "StateValue", "state": {"type": "ref", "uid": 6}, "class_property": {"type": "BaseProperty", "class_property": "SpEntropy"}, "unit": "kJ/kg⋅K"}, "inp_2": {"type": "DepValue", "var_ref": {"type": "ref", "uid": 5}}, "unit_1": "kJ/kg⋅K", "unit_2": "atm"}, {"type": "State", "no": 3, "uid": 8, "fluid": "Air", "desc": "", "class_property_1": {"type": "BaseProperty", "class_property": "Temperature"}, "class_property_2": {"type": "BaseProperty", "class_property": "Pressure"}, "inp_1": {"type": "DepValue", "var_ref": {"type": "ref", "uid": 3}}, "inp_2": {"type": "DepValue", "var_ref": {"type": "ref", "uid": 5}}, "unit_1": "K", "unit_2": "atm"}, {"type": "State", "no": 4, "uid": 9, "fluid": "Air", "desc": "", "class_property_1": {"type": "BaseProperty", "class_property": "SpEntropy"}, "class_property_2": {"type": "BaseProperty", "class_property": "Pressure"}, "inp_1": {"type": "StateValue", "state": {"type": "ref", "uid": 8}, "class_property": {"type": "BaseProperty", "class_property": "SpEntropy"}, "unit": "kJ/kg⋅K"}, "inp_2": {"type": "DepValue", "var_ref": {"type": "ref", "uid": 4}}, "unit_1": "kJ/kg⋅K", "unit_2": "atm"}, {"type": "Variable", "name": "Wcomp", "uid": 12, "inp": {"type": "ExprValue", "expr": [{"type": "Variable", "name": "h2", "uid": 10, "inp": {"type": "StateValue", "state": {"type": "ref", "uid": 7}, "class_property": {"type": "BaseProperty", "class_property": "SpEnthalpy"}, "unit": "kJ/kg"}, "desc": ""}, "-", {"type": "Variable", "name": "h1", "uid": 11, "inp": {"type": "StateValue", "state": {"type": "ref", "uid": 6}, "class_property": {"type": "BaseProperty", "class_property": "SpEnthalpy"}, "unit": "kJ/kg"}, "desc": ""}], "inner_vars": [{"type": "ref", "uid": 10}, {"type": "ref", "uid": 11}]}, "desc": "Compressor Work (kJ/kg)"}, {"type": "Variable", "name": "Wturb", "uid": 15, "inp": {"type": "ExprValue", "expr": [{"type": "Variable", "name": "h3", "uid": 13, "inp": {"type": "StateValue", "state": {"type": "ref", "uid": 8}, "class_property": {"type": "BaseProperty", "class_property": "SpEnthalpy"}, "unit": "kJ/kg"}, "desc": ""}, "-", {"type": "Variable", "name": "h4", "uid": 14, "inp": {"type": "StateValue", "state": {"type": "ref", "uid": 9}, "class_property": {"type": "BaseProperty", "class_property": "SpEnthalpy"}, "unit": "kJ/kg"}, "desc": ""}], "inner_vars": [{"type": "ref", "uid": 13}, {"type": "ref", "uid": 14}]}, "desc": "Turbine work (kJ/kg)"}, {"type": "Variable", "name": "rbw", "uid": 16, "inp": {"type": "ExprValue", "expr": [{"type": "ref", "uid": 12}, "/", {"type": "ref", "uid": 15}], "inner_vars": []}, "desc": "Back Work Ratio"}, {"type": "Variable", "name": "Qin", "uid": 19, "inp": {"type": "ExprValue", "expr": [{"type": "Variable", "name": "h3", "uid": 17, "inp": {"type": "StateValue", "state": {"type": "ref", "uid": 8}, "class_property": {"type": "BaseProperty", "class_property": "SpEnthalpy"}, "unit": "kJ/kg"}, "desc": ""}, "-", {"type": "Variable", "name": "h2", "uid": 18, "inp": {"type": "StateValue", "state": {"type": "ref", "uid": 7}, "class_property": {"type": "BaseProperty", "class_property": "SpEnthalpy"}, "unit": "kJ/kg"}, "desc": ""}], "inner_vars": [{"type": "ref", "uid": 17}, {"type": "ref", "uid": 18}]}, "desc": "Total heat input (kJ/kg)"}, {"type": "Variable", "name": "Wnet", "uid": 20, "inp": {"type": "ExprValue", "expr": [{"type": "ref", "uid": 15}, "-", {"type": "ref", "uid": 12}], "inner_vars": []}, "desc": " Net work (kJ/kg)"}, {"type": "Variable", "name": "eff", "uid": 21, "inp": {"type": "ExprValue", "expr": ["(", {"type": "ref", "uid": 20}, "/", {"type": "ref", "uid": 19}, ")", "*", "1", "0", "0"], "inner_vars": []}, "desc": "Efficiency %"}], "desc": "Cengel 8th Ed. Example 9.5"}]' # noqa
ex2: str = '[{"type": "MetaFlow", "build": 2}, {"type": "Flow", "name": "The Simple Ideal Rankine Cycle", "fluids": ["Water"], "ranged_vars": [{"type": "Variable", "name": "P1", "uid": 1, "inp": {"type": "IndValue", "value": 75.0, "value_range": [50.0, 100.0]}, "desc": "Condenser Pressure (kPa)"}, {"type": "Variable", "name": "P2", "uid": 2, "inp": {"type": "IndValue", "value": 3.0, "value_range": [3.0, 18.0]}, "desc": "=P3 Boiler Pressure (MPa)"}, {"type": "Variable", "name": "T3", "uid": 3, "inp": {"type": "IndValue", "value": 350.0, "value_range": [300.0, 500.0]}, "desc": "Turbine inlet Temp (C)"}], "var_states": [{"type": "State", "no": 1, "uid": 4, "fluid": "Water", "desc": "Saturated liquid at P1", "class_property_1": {"type": "BaseProperty", "class_property": "Pressure"}, "class_property_2": {"type": "BaseProperty", "class_property": "Quality"}, "inp_1": {"type": "DepValue", "var_ref": {"type": "ref", "uid": 1}}, "inp_2": {"type": "IndValue", "value": 0.0, "value_range": null}, "unit_1": "kPa", "unit_2": "--"}, {"type": "State", "no": 2, "uid": 5, "fluid": "Water", "desc": "Isoentropic compression from P1 to P2", "class_property_1": {"type": "BaseProperty", "class_property": "Pressure"}, "class_property_2": {"type": "BaseProperty", "class_property": "SpEntropy"}, "inp_1": {"type": "DepValue", "var_ref": {"type": "ref", "uid": 2}}, "inp_2": {"type": "StateValue", "state": {"type": "ref", "uid": 4}, "class_property": {"type": "BaseProperty", "class_property": "SpEntropy"}, "unit": "kJ/kg⋅K"}, "unit_1": "MPa", "unit_2": "kJ/kg⋅K"}, {"type": "State", "no": 3, "uid": 6, "fluid": "Water", "desc": "Turbine inlet", "class_property_1": {"type": "BaseProperty", "class_property": "Temperature"}, "class_property_2": {"type": "BaseProperty", "class_property": "Pressure"}, "inp_1": {"type": "DepValue", "var_ref": {"type": "ref", "uid": 3}}, "inp_2": {"type": "DepValue", "var_ref": {"type": "ref", "uid": 2}}, "unit_1": "°C", "unit_2": "MPa"}, {"type": "State", "no": 4, "uid": 7, "fluid": "Water", "desc": "Isoentropic expansion from 3 to 4", "class_property_1": {"type": "BaseProperty", "class_property": "Pressure"}, "class_property_2": {"type": "BaseProperty", "class_property": "SpEntropy"}, "inp_1": {"type": "DepValue", "var_ref": {"type": "ref", "uid": 1}}, "inp_2": {"type": "StateValue", "state": {"type": "ref", "uid": 6}, "class_property": {"type": "BaseProperty", "class_property": "SpEntropy"}, "unit": "kJ/kg⋅K"}, "unit_1": "kPa", "unit_2": "kJ/kg⋅K"}, {"type": "Variable", "name": "h1", "uid": 8, "inp": {"type": "StateValue", "state": {"type": "ref", "uid": 4}, "class_property": {"type": "BaseProperty", "class_property": "SpEnthalpy"}, "unit": "kJ/kg"}, "desc": ""}, {"type": "Variable", "name": "h2", "uid": 9, "inp": {"type": "StateValue", "state": {"type": "ref", "uid": 5}, "class_property": {"type": "BaseProperty", "class_property": "SpEnthalpy"}, "unit": "kJ/kg"}, "desc": ""}, {"type": "Variable", "name": "h3", "uid": 10, "inp": {"type": "StateValue", "state": {"type": "ref", "uid": 6}, "class_property": {"type": "BaseProperty", "class_property": "SpEnthalpy"}, "unit": "kJ/kg"}, "desc": ""}, {"type": "Variable", "name": "h4", "uid": 11, "inp": {"type": "StateValue", "state": {"type": "ref", "uid": 7}, "class_property": {"type": "BaseProperty", "class_property": "SpEnthalpy"}, "unit": "kJ/kg"}, "desc": ""}, {"type": "Variable", "name": "Qin", "uid": 12, "inp": {"type": "ExprValue", "expr": [{"type": "ref", "uid": 10}, "-", {"type": "ref", "uid": 9}], "inner_vars": []}, "desc": ""}, {"type": "Variable", "name": "Qout", "uid": 13, "inp": {"type": "ExprValue", "expr": [{"type": "ref", "uid": 11}, "-", {"type": "ref", "uid": 8}], "inner_vars": []}, "desc": ""}, {"type": "Variable", "name": "Wturb", "uid": 14, "inp": {"type": "ExprValue", "expr": [{"type": "ref", "uid": 10}, "-", {"type": "ref", "uid": 11}], "inner_vars": []}, "desc": ""}, {"type": "Variable", "name": "Wpump", "uid": 15, "inp": {"type": "ExprValue", "expr": [{"type": "ref", "uid": 9}, "-", {"type": "ref", "uid": 8}], "inner_vars": []}, "desc": ""}, {"type": "Variable", "name": "eff", "uid": 16, "inp": {"type": "ExprValue", "expr": ["(", "1", "-", {"type": "ref", "uid": 13}, "/", {"type": "ref", "uid": 12}, ")", "*", "1", "0", "0"], "inner_vars": []}, "desc": "Efficiency %"}, {"type": "Variable", "name": "Wnet", "uid": 17, "inp": {"type": "ExprValue", "expr": [{"type": "ref", "uid": 14}, "-", {"type": "ref", "uid": 15}], "inner_vars": []}, "desc": ""}], "desc": "Cengel 8th Ed. Example 10.1"}]' # noqa

exFlows: List[str] = [ex1, ex2]
exStates: Dict[str, List[PureState]] = {"Water": [PureState(fluid="Water", input_a=Temperature(value=600),
                                                            input_b=Pressure(value=1e6), no=1)]}
